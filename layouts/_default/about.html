{{ define "main" }}
<div class="flex w-full max-w-[680px] flex-col gap-16 mx-auto">
    <section class="flex flex-col items-center gap-8 text-center animate-fade-in">
        <div class="relative group">
            <div class="absolute -inset-1 rounded-full bg-gradient-to-tr from-primary/30 to-gray-200/30 dark:from-primary/30 dark:to-gray-700/30 blur opacity-50 transition duration-1000 group-hover:opacity-75"></div>
            {{ $avatar := .Resources.GetMatch .Params.avatar }}
            {{ if not $avatar }}
                {{ $avatar = resources.Get "images/avatar.jpg" }}
            {{ end }}
            {{ if $avatar }}
            <div class="relative h-40 w-40 overflow-hidden rounded-full border-4 border-white dark:border-background-dark shadow-sm bg-gray-100" style="background-image: url('{{ $avatar.RelPermalink }}'); background-size: cover; background-position: center;">
            </div>
            {{ else }}
            <div class="relative h-40 w-40 overflow-hidden rounded-full border-4 border-white dark:border-white/10 shadow-sm bg-gray-100 dark:bg-white/5 flex items-center justify-center">
                <span class="material-symbols-outlined text-4xl text-gray-400">person</span>
            </div>
            {{ end }}
        </div>
        <div class="space-y-3">
            <h2 class="text-3xl font-bold tracking-tight md:text-4xl text-gray-800 dark:text-white">{{ .Title }}</h2>
            <div class="flex items-center justify-center gap-2">
                <span class="h-px w-8 bg-primary/40"></span>
                <p class="font-body text-sm font-medium uppercase tracking-widest text-gray-500 dark:text-gray-400">{{ .Params.subtitle }}</p>
                <span class="h-px w-8 bg-primary/40"></span>
            </div>
            
            <!-- Social Icons -->
            <div class="flex items-center justify-center gap-6 pt-4">
                {{ with .Params.social.twitter }}
                <a href="{{ . }}" target="_blank" rel="noopener noreferrer" aria-label="X (Twitter)" class="text-gray-400 hover:text-primary transition-all hover:-translate-y-0.5">
                    <i class="fa-brands fa-x-twitter text-xl"></i>
                </a>
                {{ end }}
                {{ with .Params.social.instagram }}
                <a href="{{ . }}" target="_blank" rel="noopener noreferrer" aria-label="Instagram" class="text-gray-400 hover:text-primary transition-all hover:-translate-y-0.5">
                    <i class="fa-brands fa-instagram text-xl"></i>
                </a>
                {{ end }}
                {{ with .Params.social.github }}
                <a href="{{ . }}" target="_blank" rel="noopener noreferrer" aria-label="GitHub" class="text-gray-400 hover:text-primary transition-all hover:-translate-y-0.5">
                    <i class="fa-brands fa-github text-xl"></i>
                </a>
                {{ end }}
            </div>
        </div>
    </section>

    <div class="prose dark:prose-invert max-w-none font-display text-lg leading-relaxed text-gray-800/90 dark:text-gray-200/90">
        {{ .Content }}
    </div>

    <!-- Stats -->
    <div class="grid grid-cols-2 gap-4 md:grid-cols-4 py-8 border-y border-gray-100 dark:border-white/10">
        {{ range .Params.stats }}
        <div class="flex flex-col items-center gap-1">
            <span class="text-2xl font-bold text-primary">{{ .value }}</span>
            <span class="text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider">{{ .label }}</span>
        </div>
        {{ end }}
    </div>

    {{ $keep := .Params.showKeepInTouch }}
    {{ $email := "" }}
    {{ $showEmail := false }}
    {{ if eq (printf "%T" $keep) "bool" }}
        {{ if $keep }}
            {{ $email = .Params.email | default .Site.Params.email }}
            {{ $showEmail = .Params.showEmail }}
        {{ end }}
    {{ else }}
        {{ if $keep }}
            {{ $email = $keep.email | default .Site.Params.email }}
            {{ $showEmail = $keep.showEmail }}
        {{ end }}
    {{ end }}
    {{ if and $showEmail $email }}
    <section class="flex flex-col gap-6">
        <h3 class="text-center text-xl font-bold text-gray-800 dark:text-white">Keep in Touch</h3>
        <div class="grid grid-cols-1 gap-4 sm:grid-cols-3">
            <a href="mailto:{{ $email }}" class="group flex items-center justify-center gap-3 rounded-xl border border-gray-200 bg-white p-4 text-center transition-all hover:border-primary hover:bg-primary/5 hover:shadow-sm dark:border-white/10 dark:bg-white/5 dark:hover:bg-primary/10">
                <span class="material-symbols-outlined text-gray-400 group-hover:text-primary transition-colors">mail</span>
                <span class="text-sm font-medium text-gray-800 dark:text-white">Email Me</span>
            </a>
            <!-- Other social links can be added here -->
        </div>
    </section>
    {{ end }}
</div>
{{ end }}
