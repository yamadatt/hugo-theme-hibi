# 20260117 review

以下、メンテ性を下げている（=重複や分岐の増殖につながる）箇所のピックアップ。

## Findings

- 同一の「記事カード」構造が `layouts/index.html`・`layouts/_default/list.html`・`layouts/_default/term.html` にほぼコピペで存在し、今後の変更時に3箇所修正が必須になる。`featuredImagePreview`→`featuredImage`の探索、タグのフォールバック、本文サマリ、CTA までほぼ同じ。`layouts/index.html:14`、`layouts/_default/list.html:9`、`layouts/_default/term.html:9`
- 同一の「ページネーション」構造が3箇所に重複（前へ/次へ、現在ページ判定、ボタンのクラス一式）。将来のデザイン変更が3箇所作業になる。`layouts/index.html:64`、`layouts/_default/list.html:58`、`layouts/_default/term.html:58`
- 画像取得の if/with チェーンが複数テンプレートに重複し、サイズ差だけでロジックが同一。部分テンプレ化か、画像取得のヘルパー化の候補。`layouts/index.html:20`、`layouts/_default/list.html:14`、`layouts/_default/term.html:14`、`layouts/_default/archive.html:50`
- 同じコレクションの `GroupByDate` をアーカイブ内で3回実行（PCナビ、モバイルナビ、本体）。データを変数化して1回だけ計算する方が読みやすく保守向き。`layouts/_default/archive.html:24`、`layouts/_default/archive.html:30`、`layouts/_default/archive.html:40`
- タグのフォールバック文言がページ種別で分岐しており、テンプレートを増やすほど不整合が発生しやすい（index: “日常”、list/term: “Uncategorized”）。将来的に言語変更や文言調整が散らばる。`layouts/index.html:39`、`layouts/_default/list.html:33`、`layouts/_default/term.html:33`
- `public/` と `resources/_gen/` がリポジトリ内にあり、編集対象のファイルと生成物が混在しているため、見直し時のノイズが大きい（重複編集や差分の混乱を招きやすい）。`public/`、`resources/_gen/`

## 次の一手（案）

1) 記事カードとページネーションを `layouts/partials/` に抽出して差分をパラメタ化（サイズや summary 処理だけ引数化）
2) アーカイブの `GroupByDate` を変数化して重複クエリ削減
3) 生成物を `.gitignore` へ移す or 「編集対象」明示のREADME作成
